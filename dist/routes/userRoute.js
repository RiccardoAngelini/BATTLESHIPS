"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const userController_1 = require("../controller/userController");
const userDao_1 = require("../dao/userDao");
const userRepository_1 = require("../repository/userRepository");
const userService_1 = require("../service/userService");
const adminValidator_1 = require("../middleware/adminValidator");
const jwtAuth_1 = require("../middleware/jwtAuth");
const authService_1 = require("../service/authService");
const userDao = new userDao_1.UserDao();
const userRepository = new userRepository_1.UserRepository(userDao);
const userService = new userService_1.UserService(userRepository);
const authService = new authService_1.AuthService(userRepository);
const userController = new userController_1.UserController(userService, authService);
const userRouter = (0, express_1.Router)();
userRouter.get('/players', userController.getPlayers);
userRouter.get('/ranking', userController.getRanking);
userRouter.post('/tokens', jwtAuth_1.jwtAuth, adminValidator_1.validateAddToken, userController.addToken);
userRouter.post('/auth/login', userController.login);
exports.default = userRouter;
